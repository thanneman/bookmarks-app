{"ast":null,"code":"import _classCallCheck from \"/Users/travishanneman/Desktop/Projects/bookmarks-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/travishanneman/Desktop/Projects/bookmarks-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/travishanneman/Desktop/Projects/bookmarks-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/travishanneman/Desktop/Projects/bookmarks-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/travishanneman/Desktop/Projects/bookmarks-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/travishanneman/Desktop/Projects/bookmarks-app/src/AddBookmark/AddBookmark.js\";\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport BookmarksContext from '../BookmarksContext';\nimport config from '../config';\nimport './AddBookmark.css';\n\nvar Required = function Required() {\n  return React.createElement(\"span\", {\n    className: \"AddBookmark__required\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 8\n    },\n    __self: this\n  }, \"*\");\n};\n\nvar AddBookmark =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(AddBookmark, _Component);\n\n  function AddBookmark() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, AddBookmark);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(AddBookmark)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      error: null\n    };\n\n    _this.handleSubmit = function (e) {\n      e.preventDefault(); // get the form fields from the event\n\n      var _e$target = e.target,\n          title = _e$target.title,\n          url = _e$target.url,\n          description = _e$target.description,\n          rating = _e$target.rating;\n      var bookmark = {\n        title: title.value,\n        url: url.value,\n        description: description.value,\n        rating: rating.value\n      };\n\n      _this.setState({\n        error: null\n      });\n\n      fetch(\"\".concat(config.API_ENDPOINT, \"/api/bookmarks\"), {\n        method: 'POST',\n        body: JSON.stringify(bookmark),\n        headers: {\n          'content-type': 'application/json',\n          'authorization': \"bearer \".concat(config.API_KEY)\n        }\n      }).then(function (res) {\n        if (!res.ok) {\n          return res.json().then(function (error) {\n            return Promise.reject(error);\n          });\n        }\n\n        return res.json();\n      }).then(function (data) {\n        title.value = '';\n        url.value = '';\n        description.value = '';\n        rating.value = '';\n\n        _this.context.addBookmark(data);\n\n        _this.props.history.push('/');\n      }).catch(function (error) {\n        console.error(error);\n\n        _this.setState({\n          error: error\n        });\n      });\n    };\n\n    _this.handleClickCancel = function () {\n      _this.props.history.push('/');\n    };\n\n    return _this;\n  }\n\n  _createClass(AddBookmark, [{\n    key: \"render\",\n    value: function render() {\n      var error = this.state.error;\n      return React.createElement(\"section\", {\n        className: \"AddBookmark\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70\n        },\n        __self: this\n      }, React.createElement(\"h2\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      }, \"Create a bookmark\"), React.createElement(\"form\", {\n        className: \"AddBookmark__form\",\n        onSubmit: this.handleSubmit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"AddBookmark__error\",\n        role: \"alert\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      }, error && React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      }, error.message)), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        htmlFor: \"title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      }, \"Title\", ' ', React.createElement(Required, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      })), React.createElement(\"input\", {\n        type: \"text\",\n        name: \"title\",\n        id: \"title\",\n        placeholder: \"Great website!\",\n        required: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        htmlFor: \"url\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94\n        },\n        __self: this\n      }, \"URL\", ' ', React.createElement(Required, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        },\n        __self: this\n      })), React.createElement(\"input\", {\n        type: \"url\",\n        name: \"url\",\n        id: \"url\",\n        placeholder: \"https://www.great-website.com/\",\n        required: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        htmlFor: \"description\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108\n        },\n        __self: this\n      }, \"Description\"), React.createElement(\"textarea\", {\n        name: \"description\",\n        id: \"description\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        htmlFor: \"rating\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117\n        },\n        __self: this\n      }, \"Rating\", ' ', React.createElement(Required, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120\n        },\n        __self: this\n      })), React.createElement(\"input\", {\n        type: \"number\",\n        name: \"rating\",\n        id: \"rating\",\n        defaultValue: \"1\",\n        min: \"1\",\n        max: \"5\",\n        required: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"AddBookmark__buttons\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        type: \"button\",\n        onClick: this.handleClickCancel,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133\n        },\n        __self: this\n      }, \"Cancel\"), ' ', React.createElement(\"button\", {\n        type: \"submit\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137\n        },\n        __self: this\n      }, \"Save\"))));\n    }\n  }]);\n\n  return AddBookmark;\n}(Component);\n\nAddBookmark.propTypes = {\n  history: PropTypes.shape({\n    push: PropTypes.func\n  }).isRequired\n};\nAddBookmark.contextType = BookmarksContext;\nexport default AddBookmark;","map":{"version":3,"sources":["/Users/travishanneman/Desktop/Projects/bookmarks-app/src/AddBookmark/AddBookmark.js"],"names":["React","Component","PropTypes","BookmarksContext","config","Required","AddBookmark","state","error","handleSubmit","e","preventDefault","target","title","url","description","rating","bookmark","value","setState","fetch","API_ENDPOINT","method","body","JSON","stringify","headers","API_KEY","then","res","ok","json","Promise","reject","data","context","addBookmark","props","history","push","catch","console","handleClickCancel","message","propTypes","shape","func","isRequired","contextType"],"mappings":"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","sourcesContent":["import React, { Component } from  'react';\nimport PropTypes from 'prop-types';\nimport BookmarksContext from '../BookmarksContext';\nimport config from '../config'\nimport './AddBookmark.css';\n\nconst Required = () => (\n  <span className='AddBookmark__required'>*</span>\n)\n\nclass AddBookmark extends Component {\n  static propTypes = {\n    history: PropTypes.shape({\n      push: PropTypes.func,\n    }).isRequired,\n  };\n\n  static contextType = BookmarksContext;\n\n  state = {\n    error: null,\n  };\n\n  handleSubmit = e => {\n    e.preventDefault()\n    // get the form fields from the event\n    const { title, url, description, rating } = e.target\n    const bookmark = {\n      title: title.value,\n      url: url.value,\n      description: description.value,\n      rating: rating.value,\n    }\n    this.setState({ error: null })\n    fetch(`${config.API_ENDPOINT}/api/bookmarks`, {\n      method: 'POST',\n      body: JSON.stringify(bookmark),\n      headers: {\n        'content-type': 'application/json',\n        'authorization': `bearer ${config.API_KEY}`\n      }\n    })\n      .then(res => {\n        if (!res.ok) {\n          return res.json().then(error => Promise.reject(error))\n        }\n        return res.json()\n      })\n      .then(data => {\n        title.value = ''\n        url.value = ''\n        description.value = ''\n        rating.value = ''\n        this.context.addBookmark(data)\n        this.props.history.push('/')\n      })\n      .catch(error => {\n        console.error(error)\n        this.setState({ error })\n      })\n  }\n\n  handleClickCancel = () => {\n    this.props.history.push('/')\n  };\n\n  render() {\n    const { error } = this.state\n    return (\n      <section className='AddBookmark'>\n        <h2>Create a bookmark</h2>\n        <form\n          className='AddBookmark__form'\n          onSubmit={this.handleSubmit}\n        >\n          <div className='AddBookmark__error' role='alert'>\n            {error && <p>{error.message}</p>}\n          </div>\n          <div>\n            <label htmlFor='title'>\n              Title\n              {' '}\n              <Required />\n            </label>\n            <input\n              type='text'\n              name='title'\n              id='title'\n              placeholder='Great website!'\n              required\n            />\n          </div>\n          <div>\n            <label htmlFor='url'>\n              URL\n              {' '}\n              <Required />\n            </label>\n            <input\n              type='url'\n              name='url'\n              id='url'\n              placeholder='https://www.great-website.com/'\n              required\n            />\n          </div>\n          <div>\n            <label htmlFor='description'>\n              Description\n            </label>\n            <textarea\n              name='description'\n              id='description'\n            />\n          </div>\n          <div>\n            <label htmlFor='rating'>\n              Rating\n              {' '}\n              <Required />\n            </label>\n            <input\n              type='number'\n              name='rating'\n              id='rating'\n              defaultValue='1'\n              min='1'\n              max='5'\n              required\n            />\n          </div>\n          <div className='AddBookmark__buttons'>\n            <button type='button' onClick={this.handleClickCancel}>\n              Cancel\n            </button>\n            {' '}\n            <button type='submit'>\n              Save\n            </button>\n          </div>\n        </form>\n      </section>\n    );\n  }\n}\n\nexport default AddBookmark;"]},"metadata":{},"sourceType":"module"}