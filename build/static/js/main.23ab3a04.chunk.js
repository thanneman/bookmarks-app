(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{20:function(e,t,a){e.exports=a(42)},25:function(e,t,a){},27:function(e,t,a){},34:function(e,t,a){},36:function(e,t,a){},38:function(e,t,a){},40:function(e,t,a){},42:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(16),l=a.n(o),c=a(3),i=(a(25),a(19)),m=a(4),u=a(5),s=a(7),k=a(6),d=a(11),p=a(10),E={API_ENDPOINT:"https://tf-ed-bookmarks-api.herokuapp.com/v3/bookmarks",API_KEY:"$2a$10$HcVmlWvASSbVxFE2nR2VS.RpQxD/E9SuHG6GgD56aMtcNogV7Oxqi"},h=(a(27),function(){return r.a.createElement("span",{className:"AddBookmark__required"},"*")}),b=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(k.a)(t)).call.apply(e,[this].concat(r)))).state={error:null},a.handleSubmit=function(e){e.preventDefault();var t=e.target,n=t.title,r=t.url,o=t.description,l=t.rating,c={title:n.value,url:r.value,description:o.value,rating:l.value};a.setState({error:null}),fetch(E.API_ENDPOINT,{method:"POST",body:JSON.stringify(c),headers:{"content-type":"application/json",authorization:"bearer ".concat(E.API_KEY)}}).then(function(e){return e.ok?e.json():e.json().then(function(e){throw e})}).then(function(e){n.value="",r.value="",o.value="",l.value="",a.props.history.push("/"),a.props.onAddBookmark(e)}).catch(function(e){a.setState({error:e})})},a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.state.error,t=this.props.onClickCancel;return r.a.createElement("section",{className:"AddBookmark"},r.a.createElement("h2",null,"Create a bookmark"),r.a.createElement("form",{className:"AddBookmark__form",onSubmit:this.handleSubmit},r.a.createElement("div",{className:"AddBookmark__error",role:"alert"},e&&r.a.createElement("p",null,e.message)),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"title"},"Title"," ",r.a.createElement(h,null)),r.a.createElement("input",{type:"text",name:"title",id:"title",placeholder:"Great website!",required:!0})),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"url"},"URL"," ",r.a.createElement(h,null)),r.a.createElement("input",{type:"url",name:"url",id:"url",placeholder:"https://www.great-website.com/",required:!0})),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"description"},"Description"),r.a.createElement("textarea",{name:"description",id:"description"})),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"rating"},"Rating"," ",r.a.createElement(h,null)),r.a.createElement("input",{type:"number",name:"rating",id:"rating",defaultValue:"1",min:"1",max:"5",required:!0})),r.a.createElement("div",{className:"AddBookmark__buttons"},r.a.createElement("button",{type:"button",onClick:t},"Cancel")," ",r.a.createElement("button",{type:"submit"},"Save"))))}}]),t}(n.Component);b.defaultProps={onAddBookmark:function(){}};var f=Object(p.e)(b);a(34);function v(e){var t=[0,0,0,0,0].map(function(t,a){return a<e.value?r.a.createElement("span",{key:a},"\u2605 "):r.a.createElement("span",{key:a},"\u2606 ")});return r.a.createElement("div",{className:"rating"},t)}a(36);function _(e){return r.a.createElement("li",{className:"BookmarkItem"},r.a.createElement("div",{className:"BookmarkItem__row"},r.a.createElement("h3",{className:"BookmarkItem__title"},r.a.createElement("a",{href:e.url,target:"_blank",rel:"noopener noreferrer"},e.title)),r.a.createElement(v,{value:e.rating})),r.a.createElement("p",{className:"BookmarkItem__description"},e.description),r.a.createElement("div",{className:"BookmarkItem__buttons"},r.a.createElement("button",{className:"BookmarkItem__description",onClick:function(){return e.onClickDelete(e.id)}},"Delete")))}_.defaultProps={onClickDelete:function(){}};a(38);var N=function(e){function t(){return Object(m.a)(this,t),Object(s.a)(this,Object(k.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props.bookmarks;return r.a.createElement("section",{className:"BookmarkList"},r.a.createElement("h2",null,"Your bookmarks"),r.a.createElement("ul",{className:"BookmarkList__list","aria-live":"polite"},e.map(function(e){return r.a.createElement(_,Object.assign({key:e.id},e))})))}}]),t}(n.Component);N.defaultProps={bookmarks:[]};var B=N;function y(e){return r.a.createElement("nav",{className:"Nav"},r.a.createElement(c.b,{to:"/"},"Bookmark List")," ",r.a.createElement(c.b,{to:"/add-bookmark"},"Add Bookmark"))}a(40);var O=[],j=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(k.a)(t)).call.apply(e,[this].concat(r)))).state={bookmarks:O,error:null},a.setBookmarks=function(e){a.setState({bookmarks:e,error:null})},a.addBookmark=function(e){a.setState({bookmarks:Object(i.a)(a.state.bookmarks).concat([e])})},a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch(E.API_ENDPOINT,{method:"GET",headers:{"content-type":"application/json",Authorization:"Bearer ".concat(E.API_KEY)}}).then(function(e){if(!e.ok)throw new Error(e.status);return e.json()}).then(this.setBookmarks).catch(function(t){return e.setState({error:t})})}},{key:"render",value:function(){var e=this,t=this.state.bookmarks;return r.a.createElement("main",{className:"App"},r.a.createElement("h1",null,"Bookmarks!"),r.a.createElement(y,null),r.a.createElement("div",{className:"content","aria-live":"polite"},r.a.createElement(p.a,{path:"/add-bookmark",render:function(t){var a=t.history;return console.log(a),r.a.createElement(f,{onAddBookmark:e.addBookmark,onClickCancel:function(){return a.push("/")}})}}),r.a.createElement(p.a,{exact:!0,path:"/",render:function(){return r.a.createElement(B,{bookmarks:t})}})))}}]),t}(n.Component);l.a.render(r.a.createElement(c.a,null,r.a.createElement(j,null)),document.getElementById("root"))}},[[20,2,1]]]);
//# sourceMappingURL=main.23ab3a04.chunk.js.map